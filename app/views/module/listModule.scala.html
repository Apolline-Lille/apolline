@(types:TypeModule,listModule:List[Module],listFirmware:List[Firmware],trie:String,sens:Int)

@main(Messages("inventary.typeModule.title")){
  <script src="@routes.Assets.at("javascripts/modal-delete.js")" type="text/javascript" defer></script>
  @navigation("inventary")
  <div class="container">
    @inventary("module")
    <section>
      <article class="col-sm-10">
        <div class="row">
          <div class="col-sm-12">
            <h4>@{types.types} / @{types.modele}</h4>
          </div>
          <div class="col-sm-11 col-sm-offset-1">
            <div class="row"> <span class="bold">@Messages("inventary.typeModule.stock")</span> : @listModule.size </div>
          </div>
        </div>
        @if(listModule.size>0){
          <div class="row">
            <div class="col-sm-offset-10 col-sm-2">
              <div class="input-group-btn">
                <button type="button" class="btn btn-default dropdown-toggle" data-toggle="dropdown" aria-expanded="false" style="width: 100%">@Messages("global.sort") <span class="caret"></span></button>
                <ul class="dropdown-menu" role="menu">
                @for(col<-List[String]("id","acquisition","firstUse","agregateur","apolline","etat")){
                  <li>
                    <a href="@routes.ModuleManager.inventary(types._id.stringify,col,if(trie.equals(col)){-sens}else{1})">
                      @if(trie.equals(col)){<span class="glyphicon glyphicon-ok"></span>}
                      @Messages("inventary.module."+col)
                    </a>
                  </li>
                }
                </ul>
              </div>
            </div>
          </div>
          <div class="row table-responsive">
            <table class="table table-hover table-bordered">
              <thead>
                <tr>
                  <th>@Messages("inventary.module.id")</th>
                  <th>@Messages("inventary.module.acquisition")</th>
                  <th>@Messages("inventary.module.firstUse")</th>
                  <th>@Messages("inventary.module.firmware")</th>
                  <th>@Messages("inventary.module.agregateur")</th>
                  <th>@Messages("inventary.module.apolline")</th>
                  <th>@Messages("inventary.module.etat")</th>
                  <th></th>
                </tr>
              </thead>
              <tbody>
              @for(mod<-listModule){
                <tr>
                  <td>@mod.id</td>
                  <td>@{SensorManager.format(mod.acquisition)}</td>
                  <td>@if(mod.firstUse.nonEmpty){@{SensorManager.format(mod.firstUse.get)}}else{-}</td>
                  <td>@defining(listFirmware.filter(firm=>firm._id.equals(mod.firmware))){firm=>@firm.head.nom (@firm.head.version)}</td>
                  <td>@if(mod.agregateur){ @Messages("global.yes") }else{ @Messages("global.no") }</td>
                  <td>@mod.apolline.getOrElse("-")</td>
                  <td>@if(mod.hs){@Messages("inventary.module.hs")}</td>
                  <td>@*
                    <a href="@routes.SensorManager.sensorClonePage(types._id.stringify,sensor._id.stringify)"><span class="glyphicon glyphicon-copy"></span></a>
                    <a href="@routes.SensorManager.sensorUpdatePage(types._id.stringify,sensor._id.stringify)"><span class="glyphicon glyphicon-pencil"></span></a>
                    <a data-toggle="modal" href="#modal-delete" data-title="@sensor.id" data-link="@routes.SensorManager.delete(types._id.stringify,sensor._id.stringify)">
                      <span class="glyphicon glyphicon-trash"></span>
                    </a>*@
                  </td>
                </tr>
              }
              </tbody>
            </table>
          </div>
        }else{
          <h3 style="text-align:center">@Messages("global.error.noResult")</h3>
        }
      </article>
      <nav class="col-sm-2">
        <a href="@routes.ModuleManager.modulePage(types._id.stringify)" class="btn btn-success">
          <span class="glyphicon glyphicon-plus"></span>
          @Messages("inventary.module.addModule")
        </a>
      </nav>
    </section>
  </div>
}